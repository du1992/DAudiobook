é—²çš„æ²¡äº‹æŠ“ç½‘ä¸Šçš„æ•°æ®ï¼Œä¸Šçº¿çš„ä¸€ä¸ªéŸ³é¢‘å°é¡¹ç›®ï¼Œç°åœ¨ä¸‹æ¶äº†å°±åˆ†äº«ä¸€ä¸‹å§ï¼
ğŸ‘‡ä¸‹é¢æ˜¯ä»‹ç»ï¼Œä¹Ÿå¯ä»¥ç›´æ¥[ä¸‹è½½æºç ](https://github.com/kevindcw/DAudiobook)
## æ•ˆæœå›¾ï¼š
ç›®å‰ä¸»è¦æ˜¯æœ‰èœå•é¡µé¢ï¼ŒéŸ³ä¹æ’­æ”¾ï¼Œè§†é¢‘æ’­æ”¾ï¼Œæ–‡å­—æ®µå­ï¼Œè®ºå›è®¨è®ºå’Œå›¾ç‰‡ç¾å›¾è¿™å‡ ä¸ªå¤§çš„æ¿å—
![èœå•é¡µ](https://upload-images.jianshu.io/upload_images/3323633-8239e256adf56f51.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/600)
![éŸ³ä¹æ’­æ”¾](https://upload-images.jianshu.io/upload_images/3323633-80cc322add9fc0c5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/600)
![è®ºå›è®¨è®º](https://upload-images.jianshu.io/upload_images/3323633-f73207beb911171f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/600)
![å›¾ç‰‡ç¾å›¾](https://upload-images.jianshu.io/upload_images/3323633-130980a888e87783.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/600)

## ç”¨åˆ°çš„ç¬¬ä¸‰æ–¹SDKï¼š
Bmobåç«¯äº‘ï¼ˆä¸»è¦ç”¨äºï¼Œç”¨æˆ·çš„ç™»å½•æ³¨å†Œå’Œè®ºå›çš„å‘å¸ƒï¼‰
Bmobæ¨é€   ï¼ˆç”¨äºæ¨é€ä¿¡æ¯åˆ°æ‰‹æœºï¼‰
Buglyè…¾è®¯     (è…¾è®¯bugæ”¶é›†ï¼Œ ç”¨äºæ”¶é›†å’Œåˆ†æåº”ç”¨çš„å¡é¡¿å’Œå´©æºƒï¼Œä»¥åŠç”¨æˆ·çš„ç•™å­˜)
å‹ç›Ÿ              (ç”¨äºç¬¬ä¸‰æ–¹ç™»å½•å’Œåˆ†äº«ï¼Œå¦‚QQï¼Œå¾®ä¿¡ç­‰)
è…¾è®¯å¹¿å‘Š      (åº”ç”¨å†…åŠ å¹¿å‘Šï¼Œå¢åŠ ä¸ªäººå¼€å‘è€…æ”¶å…¥)

## ä»£ç ç»“æ„ï¼š
å¥½å¤šæ–¹æ³•çš„å®ç°ï¼Œéƒ½æ˜¯æ”¾åœ¨æ ¹è§†å›¾é‡Œäº†
![](https://upload-images.jianshu.io/upload_images/3323633-e0768bf22ed2d983.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/600)

#### 1.åº”ç”¨å†…åŠ å¹¿å‘Š
è™½ç„¶åœ¨Appä¸­åŠ å…¥å¹¿å‘Šæ¥ç›ˆåˆ©æ˜¯æ¯”è¾ƒä½çº§çš„å•†ä¸šåŒ–æ–¹å¼ï¼Œä½†å¯¹äºä¸ªäººå¼€å‘è€…æˆ–è€…å°å›¢é˜Ÿå¼€å‘è€…æ¥è¯´ä¹Ÿæ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œ
åŸºæœ¬ä¸Šåº”ç”¨çš„å¹¿å‘Šæ”¶å…¥éƒ½æ˜¯æŒ‰å±•ç¤ºå’Œç‚¹å‡»è®¡ç®—çš„ï¼Œå„ç§å¹¿å‘Šè”ç›Ÿéƒ½æœ‰è‡ªå·±çš„SDKï¼Œç›´æ¥å¼•ç”¨å°±è¡Œäº†ã€‚
å¦‚æœç”¨æˆ·æœ‰å¥½å¤šæ˜¯å›½å¤–çš„ï¼Œå¯ä»¥ä½¿ç”¨[è°·æ­ŒGoogleAdMob](https://apps.admob.com/),ä½†æ˜¯è®¿é—®å¾—è¦æ¢¯å­ï¼Œè€Œä¸”æ˜¯ç”¨ç¾é‡‘ç»“ç®—çš„ï¼Œåªæœ‰è¶…è¿‡100åˆ€æ‰ä¼šç»™ä½ ã€‚
å¦‚æœåªæ˜¯å›½å†…çš„è¯å¯ä»¥ç”¨[è…¾è®¯å¹¿å‘Š](https://e.qq.com/ads/400/?from=02_PINZHUANpcssBbt),ç»“ç®—å±äºæ¯”è¾ƒå¿«çš„ï¼Œä¸€æœˆä¸€ç»“æ²¡æœ‰é‡‘é¢é™åˆ¶ã€‚
è…¾è®¯å¹¿å‘Šåå°è¯¦æƒ…ï¼ŒåŸºæœ¬ä¸Šæ˜¯æ²¡æœ‰æ€ä¹ˆç†ä¼šè¿‡
![è…¾è®¯å¹¿å‘Šåå°](https://upload-images.jianshu.io/upload_images/3323633-37a80a65c00e1858.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/600)

å¹¿å‘Šå½¢å¼ä¸»è¦æœ‰ï¼š
å¼€å±å¹¿å‘Šï¼ŒåŸç”Ÿå¹¿å‘Šï¼Œæ¨ªå¹…å¹¿å‘Šï¼Œæ’é¡µå¹¿å‘Šï¼Œè§†é¢‘å¹¿å‘Šï¼›
å¼€å±å¹¿å‘Šå’ŒåŸç”Ÿå¹¿å‘Šç”¨æˆ·ä½“éªŒå¥½ï¼Œå¤§å‚ç”¨çš„æ¯”è¾ƒå¤šï¼Œå…¶å®ƒçš„ç”¨æˆ·ä½“éªŒéƒ½æ¯”è¾ƒå·®
![æ¨ªå¹…å¹¿å‘Š](https://upload-images.jianshu.io/upload_images/3323633-bd6c4e06b6ea8856.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/600)
![æ’é¡µå¹¿å‘Š](https://upload-images.jianshu.io/upload_images/3323633-eb69d0b81d2e24f4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/600)

## 2 æ•°æ®æ¥å£ï¼š
å› ä¸ºå¥½å¤šæ•°æ®éƒ½æ˜¯åœ¨ç½‘ä¸ŠæŠ“çš„ï¼Œæ€•å¤±æ•ˆéƒ½å­˜åœ¨æœ¬åœ°äº†ï¼Œåœ¨LocalDataæ–‡ä»¶å¤¹ä¸‹ã€‚
å› ä¸ºæ²¡æœ‰æœåŠ¡å™¨ï¼ˆå½“ç„¶ä¼šæ­æœåŠ¡å™¨çš„å°å“¥å¯ä»¥è·³è¿‡ï¼‰ï¼Œç½‘ä¸Šæœ‰å¥½å¤šå…è´¹çš„APIæ•°æ®æ¥å£ï¼Œå¤§å®¶å¯ä»¥æ‰¾ä¸€ä¸‹çœ‹çœ‹æœ‰æ²¡æœ‰éœ€è¦çš„ã€‚
å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨å„ç§çš„äº‘æœåŠ¡ï¼Œæœ€ç¨³å®šçš„åº”è¯¥å±äº[è…¾è®¯äº‘](https://cloud.tencent.com/)å’Œ[é˜¿é‡Œäº‘](https://www.aliyun.com/)äº†ï¼Œä½†æ˜¯æ¯”è¾ƒè´µã€‚

å…è´¹çš„ä¹Ÿæœ‰ï¼Œåƒæ˜¯[bmobåç«¯äº‘](http://www.bmob.cn/)æˆ–è€…æ˜¯[LeanCloud](https://leancloud.cn/)ï¼ˆä¸è¿‡å…è´¹ç‰ˆæœ‰å¾ˆå¤šé™åˆ¶ï¼‰

æˆ‘ç°åœ¨ç”¨çš„[bmobåç«¯äº‘](http://www.bmob.cn/)ï¼Œæ§åˆ¶å°æ•ˆæœï¼š
![åç«¯äº‘æ§åˆ¶å°](https://upload-images.jianshu.io/upload_images/3323633-43e7efc5993eede3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/600)
å…·ä½“å®ç°ä»£ç å¥‰ä¸Š
```
       //æ³¨å†Œkey
        [Bmob registerWithAppKey:BmobAppkey];
 //ç™»å½•
            [BmobUser loginWithUsernameInBackground:@"ç”¨æˆ·å" password:@"ç™»å½•å¯†ç "  block:^(BmobUser *user, NSError *error) {
         if (user) {
                   ç™»å½•æˆåŠŸ
                    
                } else {
                   ç™»å½•å¤±è´¥
                  
                }
            }];

```
```
         BmobUser *bUser = [[BmobUser alloc] init];
            bUser.username=views.username.textField.text;//åå­—
            bUser.password=views.password.textField.text;//å¯†ç 
            [bUser signUpInBackgroundWithBlock:^ (BOOL isSuccessful, NSError *error){
               @"æ³¨å†ŒæˆåŠŸ"
                } else {
                @"æ³¨å†Œå¤±è´¥"
                }
            }];

```
å…·ä½“æ•°æ®çš„å¢åˆ æ”¹æŸ¥ï¼Œçœ‹æ–‡æ¡£å§è¿™é‡Œå°±ä¸ç»†è®²äº†

å®åœ¨ä¸è¡Œçš„è¯å¯ä»¥ä½¿ç”¨æŠ“åŒ…å·¥å…·æ¥å¯»æ‰¾è‡ªå·±éœ€è¦çš„æ•°æ®ï¼Œ[å·¥å…·ä¸‹è½½å¥‰ä¸Š](https://pan.baidu.com/s/1pL97kKV)

## ç¬¬ä¸‰æ­¥ ç”¨æˆ·ç¬¬ä¸‰æ–¹ç™»å½•åˆ†äº«ï¼š
ç”¨æˆ·ç¬¬ä¸‰æ–¹ç™»å½•åˆ†äº«(ä¸éœ€è¦çš„å¯ä»¥è·³è¿‡å»)
 [æ–°æµªå¼€å‘å¹³å°åœ°å€](http://open.weibo.com/index.php)
[è…¾è®¯å¼€æ”¾å¹³å°åœ°å€](http://open.qq.com/)
[å¾®ä¿¡å¼€å‘å¹³å°åœ°å€](https://open.weixin.qq.com/cgi-bin/applist?t=manage/list&lang=zh_CN&token=5746e9ad32edacb33fed1070fdd0623ca2fbd6d4)
æ³¨å†Œæäº¤èµ„æ–™å°±è¡Œï¼Œæ³¨æ„å¾®ä¿¡æäº¤å®¡æ ¸çš„å®˜ç½‘è¦æ­£è§„ç‚¹ï¼Œä¸ç„¶å®¡æ ¸ä¸è¿‡ï¼Œéšä¾¿æ­ä¸ªå¥½çœ‹ç‚¹çš„é™æ€é¡µé¢å§ã€‚
SDKå¯ä»¥å•ç‹¬é›†æˆï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹ï¼Œæ¨èä½¿ç”¨[å‹ç›Ÿ](http://www.umeng.com/)ï¼Œä½¿ç”¨ç®€å•ç‚¹è€Œä¸”åŠ å…¥å‹ç›Ÿç»Ÿè®¡çš„æ—¶å€™æ–¹ä¾¿ç‚¹
![ä¾èµ–åº“.png](http://upload-images.jianshu.io/upload_images/3323633-9864aeae164b78b5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/600)

## ç¬¬å››æ­¥ åº”ç”¨ç»Ÿè®¡ï¼š
é›†æˆå‹ç›Ÿç»Ÿè®¡ï¼ˆä¸éœ€è¦çš„å¯ä»¥è·³è¿‡ï¼‰
é›†æˆå‹ç›Ÿç»Ÿè®¡å¯ä»¥åˆ†ææµé‡æ¥æºã€å†…å®¹ä½¿ç”¨ã€ç”¨æˆ·å±æ€§å’Œè¡Œä¸ºæ•°æ®ï¼Œå¯ä»¥çŸ¥é“ç”¨æˆ·å¹²äº†ä»€ä¹ˆ

```
    //åˆå§‹åŒ–SDK
   //è®¾ç½®å‹ç›ŸAppkey
    [UMSocialData setAppKey:UmengAppkey];
    //ä½¿ç”¨å‹ç›Ÿç»Ÿè®¡
    UMConfigInstance.appKey = UmengAppkey;
    UMConfigInstance.channelId = @"App Store";//æ¥æº
    [MobClick startWithConfigure:UMConfigInstance];

```
è®¾ç½®ç”¨æˆ·çš„å±æ€§ï¼Œè¿™æ ·ç”¨æˆ·åšçš„äº‹ä»¶å°±å¯ä»¥æºå¸¦ç€è¿™äº›å±æ€§ï¼Œä¼ çš„æ ·å¼æ˜¯å­—å…¸
```
//è®¾ç½®è¶…çº§å±æ€§
    NSMutableDictionary *dic = [NSMutableDictionary dictionaryWithObjectsAndKeys:user.idString, @"uid",user.nickName,@"name",user.gender, @"sex", nil];
    [DplusMobClick registerSuperProperty:dic];
    
```
ç»Ÿè®¡é¡µé¢
```
- (void)viewWillAppear:(BOOL)animated{
    [super viewWillAppear:animated];
    [MobClick beginLogPageView:@"é¦–é¡µ"];
}

- (void)viewWillDisappear:(BOOL)animated{
    [super viewWillDisappear:animated];
    [MobClick endLogPageView:@"é¦–é¡µ"];
}

```
è‡ªå®šä¹‰äº‹ä»¶,æ•°é‡ç»Ÿè®¡ï¼Œæ¯”å¦‚å¯ä»¥ç»Ÿè®¡å……å€¼æŒ‰é’®è¢«ç‚¹å‡»çš„å¤šå°‘ä¸‹
```
 @param  eventId ç½‘ç«™ä¸Šæ³¨å†Œçš„äº‹ä»¶Id.
 @param  label åˆ†ç±»æ ‡ç­¾ã€‚ä¸åŒçš„æ ‡ç­¾ä¼šåˆ†åˆ«è¿›è¡Œç»Ÿè®¡ï¼Œæ–¹ä¾¿åŒä¸€äº‹ä»¶çš„ä¸åŒæ ‡ç­¾çš„å¯¹æ¯”,ä¸ºnilæˆ–ç©ºå­—ç¬¦ä¸²æ—¶åå°ä¼šç”Ÿæˆå’ŒeventIdåŒåçš„æ ‡ç­¾.
 @param  accumulation ç´¯åŠ å€¼ã€‚ä¸ºå‡å°‘ç½‘ç»œäº¤äº’ï¼Œå¯ä»¥è‡ªè¡Œå¯¹æŸä¸€äº‹ä»¶IDçš„æŸä¸€åˆ†ç±»æ ‡ç­¾è¿›è¡Œç´¯åŠ ï¼Œå†ä¼ å…¥æ¬¡æ•°ä½œä¸ºå‚æ•°ã€‚
[MobClick event:@"kaola_props"];//ä¼ å®šä¹‰çš„ID

```
## ç¬¬äº”æ­¥ï¼šbugæ”¶é›†
ç”¨è¿‡çš„æ„Ÿè§‰è…¾è®¯buglyç•Œé¢å¥½çœ‹ç‚¹ï¼Œå‹ç›Ÿæ–¹ä¾¿ç‚¹ç›´æ¥å‹ç›Ÿç»Ÿè®¡å°±å¯ä»¥æ”¶é›†åˆ°ã€‚å…¶å®ä¹Ÿæ²¡å•¥å¥½è¯´çš„ï¼Œè…¾è®¯buglyä¹Ÿå¯ä»¥ç»Ÿè®¡ï¼Œå‹ç›Ÿç»Ÿè®¡ä¹Ÿå¯ä»¥æ”¶é›†bugï¼Œæ„Ÿè§‰éƒ½å·®ä¸å¤šã€‚
![è…¾è®¯bugly.png](http://upload-images.jianshu.io/upload_images/3323633-65ce6e61bc8d899a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/600)

## ç¬¬å…­æ­¥ï¼šæ¶ˆæ¯æ¨é€
ç°çŠ¶æ¨é€çš„ç¬¬ä¸‰æ–¹SDKå¾ˆå¤šï¼Œåƒå‹ç›Ÿæ¨é€ï¼Œæå…‰æ¨é€ï¼Œä¿¡é¸½æ¶ˆæ¯æ¨é€ç­‰ç­‰ï¼Œä¸ªäººæ„Ÿè§‰æå…‰æ¨é€æ˜¯æœ€å¿«çš„ï¼ˆä¹Ÿæœ‰å¯èƒ½æ˜¯è‡ªå·±çš„é”™è§‰ï¼Œä¸ªäººçœ‹æ³•ï¼‰
####1.åˆ›å»ºæ¨é€è¯ä¹¦
![åˆ›å»ºæ¨é€è¯ä¹¦1.png](http://upload-images.jianshu.io/upload_images/3323633-ad51b2926ae02b58.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/600)

![åˆ›å»ºæ¨é€è¯ä¹¦2.png](http://upload-images.jianshu.io/upload_images/3323633-c5045cf6048ba19e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/600)

####2.å¯¼å…¥SDKå°†SDKåŒ…è§£å‹
åœ¨Xcodeä¸­é€‰æ‹©â€œAdd files to 'Your project name'...â€ï¼Œå°†è§£å‹åçš„libå­æ–‡ä»¶å¤¹ï¼ˆåŒ…å«JPUSHService.hã€jpush-ios-x.x.x.aï¼Œjcore-ios-x.x.x.aï¼‰æ·»åŠ åˆ°ä½ çš„å·¥ç¨‹ç›®å½•ä¸­ã€‚

 ####3.ä½¿ç”¨
æå…‰æ¨é€å¯ä»¥è®¾ç½®æ ‡ç­¾å’Œåˆ«åè¾¾åˆ°ä¸ªæ€§åŒ–å•ç‹¬æ¨é€çš„æ•ˆæœï¼Œæ¯”å¦‚å•ç‹¬æ¨é€æŸäººï¼Œæˆ–è€…æŒ‰åœ°åŒºæ¨é€ã€‚ å…·ä½“å®ç°è‡ªå·±çœ‹[æå…‰å¼€å‘è€…æ–‡æ¡£å§](https://docs.jiguang.cn/jpush/client/iOS/ios_api/)å¤ªå¤šäº†ï¼Œä¸ç»†å†™äº†ï¼Œ

####4.ç‚¹å‡»æ¨é€æ§åˆ¶è·³è½¬çš„é¡µé¢
åœ¨networkDidReceiveMessageå‡½æ•°é‡Œå¤„ç†å¾—åˆ°çš„å‚æ•°ï¼Œ
æ¥ç¡®å®šè·³è½¬çš„é¡µé¢
æ³¨æ„è®¾ç½®è§’æ ‡ï¼Œä¸è¿‡å¥½åƒç¬¬ä¸€æ¬¡ç‚¹è¿›è§’æ ‡ä¸ä¼šæ¶ˆå¤±ï¼Œå†ç‚¹æ‰ä¼šï¼Œå¥½åƒç®€ä¹¦çš„ä¹Ÿæ˜¯è¿™æ ·ï¼ˆä¸çŸ¥é“æ˜¯ä¸æ˜¯é”™è§‰ï¼‰
```
- (void)application:(UIApplication *)application
didReceiveRemoteNotification:(NSDictionary *)userInfo {
    if (userInfos==nil) {
        userInfos =userInfo ;
//        é€šçŸ¥æ–¹æ³•å›è°ƒï¼šæ¥å—è‡ªå®šä¹‰æ¶ˆæ¯ 
        [self networkDidReceiveMessage:userInfos];
    }
    
    [JPUSHService handleRemoteNotification:userInfo];
    [JPUSHService setBadge:0];// è®¾ç½®è§’æ ‡(åˆ°æœåŠ¡å™¨)
   
    
}


```
